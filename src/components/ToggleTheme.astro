---
import { Icon } from "astro-icon/components";
import FlexButton from "./FlexButton.astro";
---

<FlexButton id="theme-toggle" square>
  <Icon id="moon" name="ph:moon" size={80} />
  <Icon id="sun" name="ph:sun" size={80} />
</FlexButton>

<style>
  #theme-toggle {
    margin-inline: auto;
    margin-block-start: 200px;
  }

  #moon {
    opacity: 0;
    transition: opacity 200ms cubic-bezier(0.075, 0.82, 0.165, 1);

    grid-row: 1 / 1;
    grid-column: 1 / 1;
  }

  #sun {
    opacity: 1;
    transition: opacity 200ms cubic-bezier(0.075, 0.82, 0.165, 1);

    grid-row: 1 / 1;
    grid-column: 1 / 1;
  }

  :global(:root.light) {
    #moon {
      opacity: 1;
    }

    #sun {
      opacity: 0;
    }
  }
</style>

<script>
  document
    .querySelector<HTMLButtonElement>("#theme-toggle")
    ?.addEventListener("click", () => {
      document.documentElement.classList.toggle("light");
    });
</script>
