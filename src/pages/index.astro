---
import { Blogs, Bookmarks, Fullname, Projects } from "@/components/Home";
import { Icon } from "astro-icon/components";
import Root from "../layouts/Root.astro";
import FlexLink from "@/components/FlexLink.astro";
import ToggleTheme from "@/components/ToggleTheme.astro";
import { Image } from "astro:assets";
import { LOGOS } from "@/images";

const FIGMA_WIDTH = 1200;
const GAP = 16;
const getColumnFr = (width: number) => `${(width / FIGMA_WIDTH) * 100}fr`;

const column1Width = getColumnFr(528);
const column2Width = getColumnFr(96 - GAP);
const column3Width = getColumnFr(128);
const column4Width = getColumnFr(16);
const column5Width = getColumnFr(256);
const column6Width = getColumnFr(128);

const cssVars = {
  column1Width,
  column2Width,
  column3Width,
  column4Width,
  column5Width,
  column6Width,
};
---

<Root title="Welcome to Astro.">
  <main>
    <ToggleTheme />

    <div class="main-grid">
      <Fullname />

      <FlexLink square href="/">
        <Icon name="ph:planet" size={80} />
      </FlexLink>

      <FlexLink class="about" href="/">About</FlexLink>

      <Blogs class="blogs" />

      <Projects />

      <Bookmarks />

      <FlexLink class="big" href="/">Sludge AI</FlexLink>

      <FlexLink class="work1" href="/">
        <Image src={LOGOS.protos} alt="protos labs" />
      </FlexLink>

      <FlexLink class="work2" href="/">
        <Image src={LOGOS.skilledd} alt="protos labs" />
      </FlexLink>

      <FlexLink class="work3" href="/">
        <Image src={LOGOS.xcidic} alt="protos labs" />
      </FlexLink>

      <FlexLink class="side" href="/">Sribu</FlexLink>
    </div>
  </main>
</Root>

<style define:vars={cssVars}>
  .main-grid {
    margin-inline: auto;
    padding-block: calc(var(--spacing-base) * 16);
    width: calc(min(100%, 1200px) - var(--spacing-3));

    display: grid;
    gap: var(--spacing-1);
    grid-template-areas:
      "title title space about about about"
      "blogs proj  proj  proj  proj  proj "
      "blogs big   big   big   big   work1"
      "blogs big   big   big   big   side "
      "bmark work2 work2 work3 work3 side ";
    grid-template-columns:
      var(--column1Width) var(--column2Width) var(--column3Width)
      var(--column4Width) var(--column5Width) var(--column6Width);
  }

  .about {
    grid-area: about;
  }

  .big {
    grid-area: big;
  }

  .work1 {
    grid-area: work1;
  }

  .work2 {
    grid-area: work2;
  }

  .work3 {
    grid-area: work3;
  }

  .side {
    grid-area: side;
    writing-mode: vertical-lr;
  }
</style>
